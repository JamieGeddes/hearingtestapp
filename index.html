<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hearing Test</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéß Hearing Test</h1>
            <p class="subtitle">Audiometry assessment</p>
        </header>

        <div id="setup-screen" class="screen active">
            <div class="setup-content">
                <div class="headphones-warning">
                    <h2>‚ö†Ô∏è Important Setup Instructions</h2>
                    <div class="warning-box">
                        <p><strong>Please wear headphones before starting this test.</strong></p>
                        <p>Headphones are essential to:</p>
                        <ul>
                            <li>Block ambient noise interference</li>
                            <li>Ensure accurate left/right ear testing</li>
                            <li>Provide precise frequency control</li>
                        </ul>
                    </div>
                </div>
                
                <div class="instructions">
                    <h3>How the test works:</h3>
                    <ol>
                        <li>You'll hear tones at different frequencies</li>
                        <li>Each tone starts very quietly and gradually increases</li>
                        <li>Click "I can hear it" as soon as you detect the sound</li>
                        <li>We'll test both ears separately</li>
                        <li>The test takes about 5-10 minutes</li>
                    </ol>
                </div>

                <div class="volume-check">
                    <h3>Volume Check</h3>
                    <p>First, let's calibrate your volume level:</p>
                    <button id="volume-test-btn" class="btn btn-secondary">Play Test Tone</button>
                    <p class="volume-instruction">Adjust your system volume so the tone is comfortable but clearly audible.</p>
                </div>

                <button id="start-test-btn" class="btn btn-primary" disabled>Start Hearing Test</button>
            </div>
        </div>

        <div id="test-screen" class="screen">
            <div class="test-content">
                <div class="test-info">
                    <div class="current-test">
                        <span id="current-ear" class="ear-indicator">Left Ear</span>
                        <span id="current-frequency" class="frequency-display">125 Hz</span>
                    </div>
                    <div class="progress">
                        <span id="test-progress">Test 1 of 14</span>
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                    </div>
                </div>

                <div class="test-interface">
                    <div class="volume-indicator">
                        <div class="volume-bar">
                            <div id="volume-level" class="volume-level"></div>
                        </div>
                        <p>Volume Level</p>
                    </div>

                    <button id="hear-button" class="btn btn-large btn-primary" disabled>
                        I Can Hear It
                    </button>

                    <div class="test-status">
                        <p id="status-text">Get ready... Test will begin shortly</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="results-screen" class="screen">
            <div class="results-content">
                <h2>Your Hearing Test Results</h2>
                
                <div class="results-summary">
                    <div class="ear-results">
                        <div class="ear-result">
                            <h3>Left Ear</h3>
                            <div id="left-ear-summary" class="ear-summary"></div>
                        </div>
                        <div class="ear-result">
                            <h3>Right Ear</h3>
                            <div id="right-ear-summary" class="ear-summary"></div>
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <h3>Hearing Threshold Chart</h3>
                    <canvas id="results-chart" width="800" height="400"></canvas>
                    <div class="chart-legend">
                        <span class="legend-item"><span class="legend-color left"></span>Left Ear</span>
                        <span class="legend-item"><span class="legend-color right"></span>Right Ear</span>
                    </div>
                </div>

                <div class="detailed-results">
                    <h3>Detailed Results</h3>
                    <div id="detailed-table" class="results-table"></div>
                </div>

                <div class="disclaimer">
                    <p><strong>Disclaimer:</strong> This is a basic hearing screening tool and should not replace professional audiological assessment. If you have concerns about your hearing, please consult a qualified audiologist or healthcare provider.</p>
                </div>

                <div class="results-actions">
                    <button id="save-results-btn" class="btn btn-primary">üìÑ Save Results</button>
                    <button id="restart-test-btn" class="btn btn-secondary">Take Test Again</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>